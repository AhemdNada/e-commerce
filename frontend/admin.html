<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUSAR-Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#1E40AF',
                        success: '#10B981',
                        warning: '#F59E0B',
                        danger: '#EF4444',
                        sidebar: '#18181B',
                        sidebarActive: '#2563EB',
                        sidebarHover: '#1E293B',
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="css/admin.css" rel="stylesheet">
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen font-sans">
<div class="flex min-h-screen">
    <!-- Sidebar (Drawer) -->
    <aside id="sidebar" class="fixed top-0 left-0 h-full w-72 sidebar-gradient text-white flex flex-col shadow-large z-40 transform -translate-x-full md:translate-x-0 transition-all duration-300 ease-in-out">
        <!-- Logo -->
        <div class="flex items-center justify-between h-20 px-8 border-b border-gray-700/50">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-medium">
                    <i class="fas fa-bolt text-white text-lg"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-white">AUSAR</h1>
                </div>
            </div>
        </div>
        <!-- Menu -->
        <nav class="flex-1 overflow-y-auto py-6">
            <div class="px-6 mb-6">
                <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Management</h3>
            </div>
            <ul class="space-y-2 px-4">
                <li>
                    <a href="#" id="sidebar-categories-link" class="sidebar-item flex items-center px-4 py-3 rounded-xl text-gray-300 hover:text-white group">
                        <div class="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center mr-3 group-hover:bg-blue-500/30 transition-all">
                            <i class="fas fa-tags text-blue-400 group-hover:text-blue-300"></i>
                        </div>
                        <span class="font-medium">Categories</span>
                        <div class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity">
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#" id="sidebar-products-link" class="sidebar-item flex items-center px-4 py-3 rounded-xl text-gray-300 hover:text-white group">
                        <div class="w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center mr-3 group-hover:bg-green-500/30 transition-all">
                            <i class="fas fa-box text-green-400 group-hover:text-green-300"></i>
                        </div>
                        <span class="font-medium">Products</span>
                        <div class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity">
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#" id="sidebar-colors-link" class="sidebar-item flex items-center px-4 py-3 rounded-xl text-gray-300 hover:text-white group">
                        <div class="w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center mr-3 group-hover:bg-purple-500/30 transition-all">
                            <i class="fas fa-palette text-purple-400 group-hover:text-purple-300"></i>
                        </div>
                        <span class="font-medium">Colors</span>
                        <div class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity">
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </div>
                    </a>
                </li>
            </ul>
            <div class="px-6 mt-8 mb-6">
                <h3 class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Settings</h3>
            </div>
            <ul class="space-y-2 px-4">
                <li>
                    <a href="#" id="sidebar-cart-settings-link" class="sidebar-item flex items-center px-4 py-3 rounded-xl text-gray-300 hover:text-white group">
                        <div class="w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center mr-3 group-hover:bg-orange-500/30 transition-all">
                            <i class="fas fa-shopping-cart text-orange-400 group-hover:text-orange-300"></i>
                        </div>
                        <span class="font-medium">Cart Settings</span>
                        <div class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity">
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#" id="sidebar-orders-link" class="sidebar-item flex items-center px-4 py-3 rounded-xl text-gray-300 hover:text-white group">
                        <div class="w-8 h-8 bg-red-500/20 rounded-lg flex items-center justify-center mr-3 group-hover:bg-red-500/30 transition-all">
                            <i class="fas fa-receipt text-red-400 group-hover:text-red-300"></i>
                        </div>
                        <span class="font-medium">Orders</span>
                        <div class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity">
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="#" id="sidebar-analytics-link" class="sidebar-item flex items-center px-4 py-3 rounded-xl text-gray-300 hover:text-white group">
                        <div class="w-8 h-8 bg-indigo-500/20 rounded-lg flex items-center justify-center mr-3 group-hover:bg-indigo-500/30 transition-all">
                            <i class="fas fa-chart-bar text-indigo-400 group-hover:text-indigo-300"></i>
                        </div>
                        <span class="font-medium">Analytics</span>
                        <div class="ml-auto opacity-0 group-hover:opacity-100 transition-opacity">
                            <i class="fas fa-chevron-right text-xs text-gray-400"></i>
                        </div>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="p-6 border-t border-gray-700/50">
            <div class="flex items-center space-x-3">
                <div class="relative">
                    <img src="images/admin.jpg" class="w-10 h-10 rounded-full border-2 border-blue-500/50" alt="Admin" />
                    <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-800"></div>
                </div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-white">abdalla 7arb</p>
                    <p class="text-xs text-gray-400">Administrator</p>
                </div>
                <!-- <button onclick="logout()" class="p-2 text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-lg transition-all">
                    <i class="fas fa-sign-out-alt"></i>
                </button> -->
            </div>
        </div>
    </aside>
    <!-- Overlay for mobile -->
    <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-30 hidden md:hidden" onclick="toggleSidebar()"></div>

    <!-- Main Content -->
    <div class="flex-1 md:ml-72 min-h-screen flex flex-col">
        <!-- Topbar -->
        <header class="h-20 bg-white/80 backdrop-blur-md border-b border-gray-200/50 flex items-center justify-between px-6 lg:px-8 shadow-soft sticky top-0 z-30">
            <div class="flex items-center space-x-4">
                <!-- Sidebar toggle button (mobile) -->
                <button id="sidebar-toggle" class="md:hidden w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-xl flex items-center justify-center text-gray-600 transition-all" onclick="toggleSidebar()">
                    <i class="fas fa-bars text-lg"></i>
                </button>
                <div>
                    <span class="text-2xl font-bold text-gray-800" id="page-title">Categories</span>
                </div>
            </div>
            <div class="flex items-center space-x-6">

                <div class="flex items-center space-x-2 cursor-pointer">
                    <img src="images/admin.jpg" class="w-9 h-9 rounded-full border-2 border-primary" alt="User" />
                    <span class="font-medium text-gray-700">abdalla 7arb</span>
                </div>
            </div>
        </header>
        <!-- Main Content Tabs (structure remains, but update classes for premium look) -->
        <main class="flex-1 p-6 lg:p-8">
            <!-- Categories Tab -->
            <div id="categories-tab" class="tab-content animate-fade-in">
                <div class="max-w-7xl mx-auto">
                    <div class="mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <h2 class="text-3xl font-bold text-gray-800 mb-2">Categories Management</h2>
                            </div>
                            <div class="flex flex-col sm:flex-row sm:items-center gap-2">
                                <input id="categories-search-input" type="text" placeholder="Search categories..." class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" />
                                <button id="add-category-btn" class="btn-primary mt-4 sm:mt-0 px-6 py-3 rounded-xl text-white font-medium flex items-center shadow-medium">
                                    <i class="fas fa-plus mr-2"></i>
                                    Add Category
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-soft border border-gray-100 overflow-hidden">
                        <div class="p-6 border-b border-gray-100">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-800">All Categories</h3>
                                <div class="flex items-center space-x-2">
                                    <span class="text-sm text-gray-500">Total:</span>
                                    <span id="categories-count" class="text-lg font-bold text-blue-600">0</span>
                                </div>
                            </div>
                        </div>
                        <div id="categories-list" class="p-6">
                            <!-- Categories will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Products Tab -->
            <div id="products-tab" class="tab-content hidden animate-fade-in">
                <div class="max-w-7xl mx-auto">
                    <div class="mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <h2 class="text-3xl font-bold text-gray-800 mb-2">Products Management</h2>
                            </div>
                            <div class="flex flex-col sm:flex-row sm:items-center gap-2">
                                <input id="products-search-input" type="text" placeholder="Search products..." class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm" />
                                <button id="add-product-btn" class="btn-primary mt-4 sm:mt-0 px-6 py-3 rounded-xl text-white font-medium flex items-center shadow-medium">
                                    <i class="fas fa-plus mr-2"></i>
                                    Add Product
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-soft border border-gray-100 overflow-hidden">
                        <div class="p-6 border-b border-gray-100">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-800">All Products</h3>
                                <div class="flex items-center space-x-2">
                                    <span class="text-sm text-gray-500">Total:</span>
                                    <span id="products-count" class="text-lg font-bold text-green-600">0</span>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 border-b border-gray-100 bg-gray-50">
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                                <div class="flex items-center space-x-4">
                                    <label class="text-sm font-medium text-gray-700">Filter by Category:</label>
                                    <select id="product-category-filter" class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                        <option value="">All Categories</option>
                                    </select>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <span class="text-sm text-gray-500">Showing:</span>
                                    <span id="filtered-products-count" class="text-sm font-semibold text-gray-700">0</span>
                                    <span class="text-sm text-gray-500">products</span>
                                </div>
                            </div>
                        </div>
                        <div id="products-list" class="p-6">
                            <!-- Products will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Colors Tab -->
            <div id="colors-tab" class="tab-content hidden animate-fade-in">
                <div class="max-w-7xl mx-auto">
                    <div class="mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <h2 class="text-3xl font-bold text-gray-800 mb-2">Colors Management</h2>
                            </div>
                            <button id="add-color-btn" class="btn-primary mt-4 sm:mt-0 px-6 py-3 rounded-xl text-white font-medium flex items-center shadow-medium">
                                <i class="fas fa-plus mr-2"></i>
                                Add Color
                            </button>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-soft border border-gray-100 overflow-hidden">
                        <div class="p-6 border-b border-gray-100">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-800">All Colors</h3>
                            </div>
                        </div>
                        <div id="colors-list" class="p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                            <!-- Colors will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Cart Settings Tab -->
            <div id="cart-settings-tab" class="tab-content hidden animate-fade-in">
                <div class="max-w-4xl mx-auto">
                    <div class="mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <h2 class="text-3xl font-bold text-gray-800 mb-2">Cart Settings</h2>
                            </div>
                            <button id="enable-all-methods" class="btn-secondary mt-4 sm:mt-0 px-6 py-3 rounded-xl text-white font-medium flex items-center shadow-medium">
                                <i class="fas fa-toggle-on mr-2"></i>
                                Enable All
                            </button>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-soft border border-gray-100 overflow-hidden">
                        <div class="p-6 border-b border-gray-100">
                            <h3 class="text-lg font-semibold text-gray-800">Payment Methods Configuration</h3>
                        </div>
                        <form id="payment-methods-form" class="p-6 space-y-8">
                            <!-- Shipping Cost -->
                            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100">
                                <div class="flex items-center mb-4">
                                    <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3">
                                        <i class="fas fa-shipping-fast text-white"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-lg font-semibold text-gray-800">Shipping Cost</h4>
                                    </div>
                                </div>
                                <div class="relative">
                                    <input type="number" id="shipping-cost" class="w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl input-focus" placeholder="0.00" min="0" step="0.01">
                                    <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">EGP</span>
                                </div>
                            </div>
                            <!-- Vodafone Cash -->
                            <div class="bg-gradient-to-r from-red-50 to-pink-50 p-6 rounded-xl border border-red-100">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fas fa-mobile-alt text-white"></i>
                                        </div>
                                        <div>
                                            <h4 class="text-lg font-semibold text-gray-800">Vodafone Cash</h4>
                                        </div>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="vodafone-cash-enabled" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                    </label>
                                </div>
                                <div class="ml-13">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                                    <input type="text" id="vodafone-cash-phone" class="w-full px-4 py-3 border border-gray-200 rounded-xl input-focus" placeholder="Enter Vodafone Cash number">
                                </div>
                            </div>
                            <!-- InstaPay -->
                            <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-100">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fas fa-credit-card text-white"></i>
                                        </div>
                                        <div>
                                            <h4 class="text-lg font-semibold text-gray-800">InstaPay</h4>
                                        </div>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="instapay-enabled" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                    </label>
                                </div>
                                <div class="ml-13 grid grid-cols-1 md:grid-cols-3 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                                        <input type="text" id="instapay-phone" class="w-full px-4 py-3 border border-gray-200 rounded-xl input-focus" placeholder="Enter phone number">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Visa Card</label>
                                        <input type="text" id="instapay-visa" class="w-full px-4 py-3 border border-gray-200 rounded-xl input-focus" placeholder="Enter visa card number">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                        <input type="email" id="instapay-email" class="w-full px-4 py-3 border border-gray-200 rounded-xl input-focus" placeholder="Enter email">
                                    </div>
                                </div>
                            </div>
                            <!-- Cash on Delivery -->
                            <div class="bg-gradient-to-r from-orange-50 to-amber-50 p-6 rounded-xl border border-orange-100">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fas fa-money-bill-wave text-white"></i>
                                        </div>
                                        <div>
                                            <h4 class="text-lg font-semibold text-gray-800">Cash on Delivery</h4>
                                        </div>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="cod-enabled" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                    </label>
                                </div>
                                <div class="ml-13">
                                    <p class="text-sm text-gray-600 bg-white/50 p-3 rounded-lg">No additional details required for Cash on Delivery payments.</p>
                                </div>
                            </div>
                            <!-- Save Button -->
                            <div class="flex justify-end pt-6 border-t border-gray-100">
                                <button type="submit" class="btn-primary px-8 py-3 rounded-xl text-white font-medium shadow-medium">
                                    <i class="fas fa-save mr-2"></i>
                                    Save Settings
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Orders Tab -->
            <div id="orders-tab" class="tab-content hidden animate-fade-in">
                <div class="max-w-7xl mx-auto">
                    <div class="mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <h2 class="text-3xl font-bold text-gray-800 mb-2">Orders Management</h2>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-soft border border-gray-100 overflow-hidden">
                        <div class="p-6 border-b border-gray-100">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-800">All Orders</h3>
                            </div>
                        </div>
                        <div id="orders-list" class="p-6">
                            <!-- Orders will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Analytics Tab -->
            <div id="analytics-tab" class="tab-content hidden animate-fade-in">
                <div class="max-w-7xl mx-auto">
                    <div class="mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <div>
                                <h2 class="text-3xl font-bold text-gray-800 mb-2">Analytics Dashboard</h2>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Top Sold Products Chart Card -->
                        <div class="bg-white rounded-2xl shadow-soft border border-gray-100 p-6 card-hover">
                            <div class="flex items-center justify-between mb-6">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mr-3">
                                        <i class="fas fa-crown text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-800">Top Sold Products</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="h-64">
                                <canvas id="top-sold-chart" class="w-full h-full"></canvas>
                            </div>
                            <div id="top-sold-legend" class="mt-4 text-xs text-gray-600 space-y-1"></div>
                        </div>
                        <!-- Top Viewed Products Chart Card -->
                        <div class="bg-white rounded-2xl shadow-soft border border-gray-100 p-6 card-hover">
                            <div class="flex items-center justify-between mb-6">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center mr-3">
                                        <i class="fas fa-eye text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-800">Most Viewed</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="h-64">
                                <canvas id="top-viewed-chart" class="w-full h-full"></canvas>
                            </div>
                            <div id="top-viewed-legend" class="mt-4 text-xs text-gray-600 space-y-1"></div>
                        </div>
                        <!-- Visitor Sources Chart Card -->
                        <div class="bg-white rounded-2xl shadow-soft border border-gray-100 p-6 card-hover">
                            <div class="flex items-center justify-between mb-6">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mr-3">
                                        <i class="fas fa-users text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-800">Visitor Sources</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="h-64">
                                <canvas id="visitor-sources-chart" class="w-full h-full"></canvas>
                            </div>
                            <div id="visitor-sources-legend" class="mt-4 text-xs text-gray-600 space-y-1"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<!-- === Modals === -->
    <!-- Add Category Modal -->
<div id="add-category-modal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Add New Category</h3>
                <form id="add-category-form">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Category Name</label>
                        <input type="text" id="category-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="add-category-cancel-btn" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" id="add-category-submit-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-secondary">
                            Add Category
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Edit Category Modal -->
<div id="edit-category-modal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Edit Category</h3>
                <form id="edit-category-form">
                    <input type="hidden" id="edit-category-id">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Category Name</label>
                        <input type="text" id="edit-category-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="edit-category-cancel-btn" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" id="edit-category-submit-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-secondary">
                            Update Category
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Add Product Modal -->
<div id="add-product-modal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Add New Product</h3>
                <form id="add-product-form" enctype="multipart/form-data">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Product Name</label>
                            <input type="text" name="name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Category</label>
                            <select name="category_id" id="product-category" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="">Select Category</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Price (EGP)</label>
                            <input type="number" name="price" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required placeholder="Enter price in EGP">
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Discount Price (Optional, EGP)</label>
                            <input type="number" name="discount_price" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Enter discount price in EGP">
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Gender</label>
                            <select name="gender" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="">Select Gender</option>
                                <option value="Men">Men</option>
                                <option value="Women">Women</option>
                                <option value="Unisex">Unisex</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Size Type</label>
                            <select name="size_type" id="size-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="">Select Size Type</option>
                                <option value="numeric">Numeric (38, 40, 42...)</option>
                                <option value="string">String (S, M, L, XL...)</option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Description</label>
                        <textarea name="description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                    </div>
                    <!-- Sizes Section -->
                    <div class="mt-6">
                        <h4 class="text-md font-semibold text-gray-800 mb-3">Sizes</h4>
                        <div id="sizes-container" class="space-y-2">
                            <!-- Sizes will be added here -->
                        </div>
                        <button type="button" id="add-size-btn" class="mt-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm">
                            <i class="fas fa-plus mr-1"></i>Add Size
                        </button>
                    </div>
                    <!-- Colors Section -->
                    <div class="mt-6">
                        <h4 class="text-md font-semibold text-gray-800 mb-3">Colors</h4>
                        <div id="colors-container" class="space-y-4">
                            <!-- Colors will be added here -->
                        </div>
                        <button type="button" id="add-color-field-btn" class="mt-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm">
                            <i class="fas fa-plus mr-1"></i>Add Color
                        </button>
                    </div>
                    <div class="flex justify-end space-x-3 mt-6">
                        <button type="button" id="add-product-cancel-btn" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" id="add-product-submit-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-secondary">
                            Add Product
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Edit Product Modal -->
<div id="edit-product-modal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Edit Product</h3>
                <form id="edit-product-form" enctype="multipart/form-data">
                    <input type="hidden" id="edit-product-id">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Product Name</label>
                            <input type="text" name="edit_name" id="edit-product-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Category</label>
                            <select name="edit_category_id" id="edit-product-category" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="">Select Category</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Price</label>
                            <input type="number" name="edit_price" id="edit-product-price" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Discount Price (Optional)</label>
                            <input type="number" name="edit_discount_price" id="edit-product-discount-price" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Gender</label>
                            <select name="edit_gender" id="edit-product-gender" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="">Select Gender</option>
                                <option value="Men">Men</option>
                                <option value="Women">Women</option>
                                <option value="Unisex">Unisex</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2">Size Type</label>
                            <select name="edit_size_type" id="edit-product-size-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                                <option value="">Select Size Type</option>
                                <option value="numeric">Numeric (38, 40, 42...)</option>
                                <option value="string">String (S, M, L, XL...)</option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Description</label>
                        <textarea name="edit_description" id="edit-product-description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
                    </div>
                    <!-- Sizes Section -->
                    <div class="mt-6">
                        <h4 class="text-md font-semibold text-gray-800 mb-3">Sizes</h4>
                        <div id="edit-sizes-container" class="space-y-2">
                            <!-- Sizes will be added here -->
                        </div>
                        <button type="button" onclick="addEditSizeField()" class="mt-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm">
                            <i class="fas fa-plus mr-1"></i>Add Size
                        </button>
                    </div>
                    <!-- Colors Section -->
                    <div class="mt-6">
                        <h4 class="text-md font-semibold text-gray-800 mb-3">Colors</h4>
                        <div id="edit-colors-container" class="space-y-4">
                            <!-- Colors will be added here -->
                        </div>
                        <button type="button" onclick="addEditColorField()" class="mt-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 text-sm">
                            <i class="fas fa-plus mr-1"></i>Add Color
                        </button>
                    </div>
                    <div class="flex justify-end space-x-3 mt-6">
                        <button type="button" id="edit-product-cancel-btn" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" id="edit-product-submit-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-secondary">
                            Update Product
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Add Color Modal -->
<div id="add-color-modal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Add New Color</h3>
                <form id="add-color-form">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Color Name</label>
                        <input type="text" id="color-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" required>
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2">Hex Code (Optional)</label>
                        <input type="color" id="color-hex" class="w-full h-10 border border-gray-300 rounded-md">
                    </div>
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="add-color-cancel-btn" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                            Cancel
                        </button>
                        <button type="submit" id="add-color-submit-btn" class="px-4 py-2 bg-primary text-white rounded-md hover:bg-secondary">
                            Add Color
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Notification -->
    <div id="notification" class="hidden fixed top-4 right-4 z-50">
        <div class="bg-white border-l-4 border-green-500 shadow-lg rounded-lg p-4 max-w-sm">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="fas fa-check-circle text-green-500"></i>
                    </div>
                    <div class="ml-3">
                        <p id="notification-message" class="text-sm text-gray-700"></p>
                    </div>
                </div>
                <button onclick="closeNotification()" class="ml-4 text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center">
        <div class="relative mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <h3 class="text-lg font-medium text-gray-900 mb-4" id="confirmation-modal-title">Confirm Action</h3>
                <p class="mb-6 text-gray-700" id="confirmation-modal-message">Are you sure you want to proceed?</p>
                <div class="flex justify-end space-x-3">
                    <button type="button" id="confirmation-cancel-btn" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                        Cancel
                    </button>
                    <button type="button" id="confirmation-confirm-btn" class="px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600">
                        Yes, Delete
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script src="js/config.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
